<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Breaking LetsGo ðŸ”¥</title>

<style>
body {
  background: black;
  color: white;
  font-family: Arial;
  text-align: center;
  margin-top: 100px;
}

h1 {
  font-size: 40px;
}

button {
  padding: 20px;
  font-size: 22px;
  margin: 20px;
  border-radius: 15px;
  border: none;
  width: 200px;
}

.start { background: green; color: white; }
.stop { background: red; color: white; }
</style>
</head>

<body>

<h1>Breaking LetsGo ðŸ”¥</h1>

<button class="start" onclick="startTraining()">Start</button>
<button class="stop" onclick="stopTraining()">Stop</button>

<audio id="music" src="music.mp3" loop></audio>

<script>

let timer = null;
let isRunning = false;
let intervalTime = 8000; // 8 giÃ¢y giá»¯a cÃ¡c lá»‡nh

const steps = [
  "1 Step","2 Step","3 Step","4 Step","5 Step",
  "6 Step","7 Step","8 Step","9 Step",
  "C C","Hook","Toprock","Power","Freeze"
];

const sounds = {
  "1 Step": new Audio("1-step.mp3"),
  "2 Step": new Audio("2-step.mp3"),
  "3 Step": new Audio("3-step.mp3"),
  "4 Step": new Audio("4-step.mp3"),
  "5 Step": new Audio("5-step.mp3"),
  "6 Step": new Audio("6-step.mp3"),
  "7 Step": new Audio("7-step.mp3"),
  "8 Step": new Audio("8-step.mp3"),
  "9 Step": new Audio("9-step.mp3"),
  "C C": new Audio("cc.mp3"),
  "Hook": new Audio("hook.mp3"),
  "Toprock": new Audio("toprock.mp3"),
  "Power": new Audio("power.mp3"),
  "Freeze": new Audio("freeze.mp3")
};

function playStep(step) {

  const music = document.getElementById("music");
  const sound = sounds[step];
  if (!sound) return;

  sound.pause();
  sound.currentTime = 0;
  sound.volume = 1.0;

  // giáº£m nháº¡c gáº§n nhÆ° táº¯t
  music.volume = 0.03;

  sound.play();

  // sau khi lá»‡nh káº¿t thÃºc tÄƒng nháº¡c láº¡i
  sound.onended = function() {
    music.volume = 0.5;
  };
}

function startTraining() {

  if (isRunning) return;
  isRunning = true;

  const music = document.getElementById("music");
  music.volume = 0.3;
  music.play();

  timer = setInterval(function() {

    if (!isRunning) return;

    const random = steps[Math.floor(Math.random() * steps.length)];
    playStep(random);

  }, intervalTime);
}

function stopTraining() {

  isRunning = false;

  if (timer !== null) {
    clearInterval(timer);
    timer = null;
  }

  const music = document.getElementById("music");
  music.pause();
  music.currentTime = 0;
  music.volume = 0.5;
}

</script>

</body>
</html>